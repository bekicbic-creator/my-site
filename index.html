/* ========== PRANK (с подтверждением) ========== */
const prankBtn = document.getElementById('prankBtn');
const modal = document.getElementById('confirmModal');
const confirmPrank = document.getElementById('confirmPrank');
const cancelPrank = document.getElementById('cancelPrank');

prankBtn.addEventListener('click', ()=> {
  // показываем модалку с предупреждением
  modal.classList.add('show');
});

cancelPrank.addEventListener('click', ()=> modal.classList.remove('show'));

confirmPrank.addEventListener('click', ()=> {
  modal.classList.remove('show');
  // резкое визуальное наложение + звук
  // создаём fullscreen элемент
  const overlay = document.createElement('div');
  overlay.style.position='fixed';
  overlay.style.inset='0';
  overlay.style.zIndex='9999';
  overlay.style.background='#000';
  overlay.style.display='flex';
  overlay.style.alignItems='center';
  overlay.style.justifyContent='center';
  overlay.style.flexDirection='column';
  overlay.style.transition='opacity 0.3s';
  overlay.innerHTML = '<img src="images/3.jpg" style="max-width:90%;max-height:90%;border-radius:6px;box-shadow:0 0 40px rgba(255,0,0,0.12)"><div style="color:var(--neon);margin-top:18px;font-size:1.6rem">Пранк активирован</div>';
  document.body.appendChild(overlay);

  // play scream
  scream.currentTime = 0;
  scream.play().catch(()=>{ alert('Браузер заблокировал воспроизведение звука — нажми "Включить фон" сначала.'); });

  // эффект вспышки + камера shake (css)
  overlay.animate([{filter:'brightness(0.2)'},{filter:'brightness(2)'}],{duration:180,iterations:2});
  document.body.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(6px)'},{transform:'translateY(0)'}],{duration:300,iterations:4});

  // удаляем overlay через 3.5s
  setTimeout(()=>{ overlay.style.opacity='0'; setTimeout(()=>overlay.remove(),400); }, 3500);
});

/* ========== DOWNLOAD BUTTON placeholder ========= */
document.getElementById('dlBtn').addEventListener('click', function(e){
  // если у тебя есть файл tohir_config.zip в репозитории — он скачивается.
  // иначе показываем подсказку.
  // (при деплое на GitHub: помести zip в root или укажи правильный путь)
  const fakePath = 'tohir_config.zip';
  // проверка — делаем попытку загрузить (большинство браузеров покажут 404)
  // оставляем действие по умолчанию
});
</script>
</body>
</html>